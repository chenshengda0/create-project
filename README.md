# 通用矩阵计算库

## 安装包(前后端通用)

```
    yarn add dreamer-common-def
```

## 包说明

```
    //生成随机数
    declare const getRandom: (arr: number[], isInt?: boolean) => number;

    //数组转置
    declare const T: (source: number[][]) => number[][];

    //矩阵点乘
    declare const getAxis: (left: number[][], right?: number[][], isPoint?: boolean) => number[][];

    //4*4 方阵转matrix2d 数组
    declare const matrix2D: (source: number[][]) => number[];

    //4*4 方阵转matrix3d 数组
    declare const matrix3D: (source: number[][]) => number[];

    //4*4 方阵转css 字符串
    declare const matrixCss: (source: number[][]) => string;

    //计算行列式
    declare const determinant: (source: number[][]) => number;

    //计算伴随矩阵
    declare const adjoint: (param: number[][], tag?: boolean) => number[][];

    //透视矩阵
    declare function perspectiveNO(fovy: number, aspect: number, near: number, far: number): number[][];

    //方法装饰器
    declare const runtimeDecorator: () => MethodDecorator;

    //导出模块
    export { getRandom, T, getAxis, matrix2D, matrix3D, matrixCss, determinant, adjoint, perspectiveNO, runtimeDecorator, };
```

## 在html使用data url
```
<script type="module">
    import {
        getRandom,
        T,
        getAxis,
        matrix2D,
        matrix3D,
        matrixCss,
        determinant,
        adjoint,
        perspectiveNO,
        runtimeDecorator,
    } from 'data:text/javascript;charset=utf-8;base64,dmFyIGU9e2Q6KG4sdCk9Pntmb3IodmFyIHIgaW4gdCllLm8odCxyKSYmIWUubyhuLHIpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkobixyLHtlbnVtZXJhYmxlOiEwLGdldDp0W3JdfSl9LG86KGUsbik9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pfSxuPXt9O2UuZChuLHtUOigpPT5yLHVqOigpPT5mLEdIOigpPT5jLGRkOigpPT5vLHNaOigpPT50LHdoOigpPT5sLGhEOigpPT5oLEMyOigpPT5hLFhfOigpPT5zLHZJOigpPT5pfSk7Y29uc3QgdD1mdW5jdGlvbihlLG49ITEpe2NvbnN0IHQ9TWF0aC5taW4oLi4uZSkscj1NYXRoLm1heCguLi5lKSxvPU1hdGgucmFuZG9tKCkqKHItdCkrdDtyZXR1cm4gbj9NYXRoLnJvdW5kKG8pOm99LHI9ZnVuY3Rpb24oZSl7Y29uc3Qgbj1lLmxlbmd0aCx0PWVbMF0ubGVuZ3RoLHI9QXJyYXkuZnJvbSh7bGVuZ3RoOnR9LCgoKT0+QXJyYXkuZnJvbSh7bGVuZ3RoOm59LCgoKT0+MCkpKSk7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDsrK24pZm9yKGxldCB0PTA7dDxlW25dLmxlbmd0aDsrK3Qpclt0XVtuXT1lW25dW3RdO3JldHVybiByfSxvPWZ1bmN0aW9uKGUsbj1bWzBdLFswXSxbMF0sWzFdXSx0PSExKXtjb25zdCBvPXQ/bjpyKG4pO2lmKGVbMF0ubGVuZ3RoIT09b1swXS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCLnn6npmLXplb/luqbkuI3ljLnphY0iKTtyZXR1cm4gbmV3IFByb3h5KChmdW5jdGlvbiooKXtmb3IobGV0IG49MDtuPG8ubGVuZ3RoOysrbil7Y29uc3QgdD1bXTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoOysrcil0LnB1c2goZnVuY3Rpb24oZSxuKXtyZXR1cm4gZS5yZWR1Y2UoKCh0LHIsbyk9PnQrZVtvXSpuW29dKSwwKX0oZVtyXSxvW25dKSk7eWllbGQgdH19KSx7YXBwbHkoLi4uZSl7Y29uc3Qgbj1SZWZsZWN0LmFwcGx5KC4uLmUpO3JldHVybiB0P1suLi5uXTpyKFsuLi5uXSl9fSkoKX0sbD1mdW5jdGlvbihlKXtpZig0IT09ZS5sZW5ndGh8fDQhPT1lWzBdLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIuivt+i+k+WFpTQqNOefqemYtSIpO3JldHVybiBuZXcgUHJveHkoKGZ1bmN0aW9uKigpe3lpZWxkIGVbMF1bMF0seWllbGQgZVsxXVswXSx5aWVsZCBlWzBdWzFdLHlpZWxkIGVbMV1bMV0seWllbGQgZVswXVszXSx5aWVsZCBlWzFdWzNdfSkse2FwcGx5OiguLi5lKT0+Wy4uLlJlZmxlY3QuYXBwbHkoLi4uZSldfSkoKX0saD1mdW5jdGlvbihlKXtpZig0IT09ZS5sZW5ndGh8fDQhPT1lWzBdLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIuivt+i+k+WFpTQqNOefqemYtSIpO2NvbnN0IG49cihlKTtyZXR1cm4gbmV3IFByb3h5KChmdW5jdGlvbiooKXtmb3IobGV0IGU9MDtlPG4ubGVuZ3RoOysrZSlmb3IobGV0IHQ9MDt0PG5bZV0ubGVuZ3RoOysrdCl5aWVsZCBuW2VdW3RdfSkse2FwcGx5OiguLi5lKT0+Wy4uLlJlZmxlY3QuYXBwbHkoLi4uZSldfSkoKX0sYT1mdW5jdGlvbihlKXtpZig0IT09ZS5sZW5ndGh8fDQhPT1lWzBdLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIuivt+i+k+WFpTQqNOefqemYtSIpO2NvbnN0IG49cihlKTtyZXR1cm4gbmV3IFByb3h5KChmdW5jdGlvbiooKXtmb3IobGV0IGU9MDtlPG4ubGVuZ3RoOysrZSlmb3IobGV0IHQ9MDt0PG5bZV0ubGVuZ3RoOysrdCl5aWVsZCBuW2VdW3RdfSkse2FwcGx5OiguLi5lKT0+YG1hdHJpeDNkKCR7Wy4uLlJlZmxlY3QuYXBwbHkoLi4uZSldLmpvaW4oIiwiKX0pYH0pKCl9LGM9ZnVuY3Rpb24oZSl7aWYoZS5sZW5ndGghPT1lWzBdLmxlbmd0aHx8ZS5sZW5ndGg8PTApdGhyb3cgbmV3IEVycm9yKCLor7fovpPlhaVuKm7nn6npmLUiKTtjb25zdCBuPWUubGVuZ3RoO3N3aXRjaCghMCl7Y2FzZSBuPD0wOnRocm93IG5ldyBFcnJvcigi6K+36L6T5YWlbipu5pa56Zi1Iik7Y2FzZSAxPT09bjpyZXR1cm4gZVswXVswXTtjYXNlIDI9PT1uOnJldHVybiBlWzBdWzBdKmVbMV1bMV0tZVsxXVswXSplWzBdWzFdO2RlZmF1bHQ6bGV0IHQ9MDtjb25zdCByPVsuLi5lWzBdXTtmb3IobGV0IG89MDtvPHIubGVuZ3RoOysrbyl0Kz1uZXcgUHJveHkoKGZ1bmN0aW9uKih0KXtmb3IobGV0IHI9MTtyPG47KytyKXtjb25zdCBvPVtdO2ZvcihsZXQgbD0wO2w8bjsrK2wpbCE9PXQmJm8ucHVzaChlW3JdW2xdKTt5aWVsZCBvfX0pLHthcHBseTooLi4uZSk9Pntjb25zdCBuPVsuLi5SZWZsZWN0LmFwcGx5KC4uLmUpXTtyZXR1cm4gYyhuKX19KShvKSpyW29dKigtMSkqKm87cmV0dXJuIHR9fSxmPWZ1bmN0aW9uKGUsbj0hMSl7bGV0IHQsbz0wO2lmKG4pe2lmKGUubGVuZ3RoIT09ZVswXS5sZW5ndGgmJmUubGVuZ3RoPDEpdGhyb3cgbmV3IEVycm9yKCLor7fovpPlhaVuKm7nn6npmLUiKTt0PW5ldyBQcm94eSgoZnVuY3Rpb24oKXtjb25zdCBuPUFycmF5LmZyb20oe2xlbmd0aDplLmxlbmd0aCsxfSwoKCk9PkFycmF5LmZyb20oe2xlbmd0aDplLmxlbmd0aCsxfSwoKCk9PjApKSkpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7Kyt0KWZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7KytyKW5bdF1bcl09ZVt0XVtyXTtyZXR1cm4gbltlLmxlbmd0aF1bZS5sZW5ndGhdPTEsbn0pLHthcHBseTooLi4uZSk9PlJlZmxlY3QuYXBwbHkoLi4uZSl9KSgpLG89dC5sZW5ndGh9ZWxzZXtpZihlLmxlbmd0aCE9PWVbMF0ubGVuZ3RoJiZlLmxlbmd0aDwyKXRocm93IG5ldyBFcnJvcigi6K+36L6T5YWlbipu55+p6Zi1Iik7dD1lLG89dC5sZW5ndGh9aWYoITA9PSgyPT09bykpe2NvbnN0IGU9QXJyYXkuZnJvbSh7bGVuZ3RoOm99LCgoKT0+QXJyYXkuZnJvbSh7bGVuZ3RoOm99LCgoKT0+MCkpKSk7cmV0dXJuIGVbMF1bMF09dFsxXVsxXSxlWzBdWzFdPS10WzBdWzFdLGVbMV1bMF09LXRbMV1bMF0sZVsxXVsxXT10WzBdWzBdLGV9e2NvbnN0IGU9QXJyYXkuZnJvbSh7bGVuZ3RoOm99LCgoKT0+QXJyYXkuZnJvbSh7bGVuZ3RoOm99LCgoKT0+MCkpKSk7Zm9yKGxldCBuPTA7bjxvOysrbilmb3IobGV0IGw9MDtsPG87KytsKWVbbl1bbF09bmV3IFByb3h5KChmdW5jdGlvbihlLG4pe2NvbnN0IGw9W107Zm9yKGxldCBuPTA7bjxvOysrbiluIT09ZSYmbC5wdXNoKFsuLi50W25dXSk7Y29uc3QgaD1yKGwpLGE9W107Zm9yKGxldCBlPTA7ZTxvOysrZSllIT09biYmYS5wdXNoKFsuLi5oW2VdXSk7Y29uc3QgZj1yKGEpO3JldHVybigtMSkqKihlK24pKmMoZil9KSx7YXBwbHk6KC4uLmUpPT5SZWZsZWN0LmFwcGx5KC4uLmUpfSkobixsKTtyZXR1cm4gcihlKX19O2Z1bmN0aW9uIHMoZSxuLHQsbyl7Y29uc3QgbD0xL01hdGgudGFuKGUvMiksaD1BcnJheS5mcm9tKHtsZW5ndGg6MTZ9LCgoKT0+MCkpO2lmKGhbMF09bC9uLGhbMV09MCxoWzJdPTAsaFszXT0wLGhbNF09MCxoWzVdPWwsaFs2XT0wLGhbN109MCxoWzhdPTAsaFs5XT0wLGhbMTFdPS0xLGhbMTJdPTAsaFsxM109MCxoWzE1XT0wLG51bGwhPW8mJm8hPT0xLzApe2NvbnN0IGU9MS8odC1vKTtoWzEwXT0obyt0KSplLGhbMTRdPTIqbyp0KmV9ZWxzZSBoWzEwXT0tMSxoWzE0XT0tMip0O3JldHVybiBuZXcgUHJveHkoKGZ1bmN0aW9uKigpe2ZvcihoLnJldmVyc2UoKTtoLmxlbmd0aD4wOyl7Y29uc3QgZT1bXTtmb3IobGV0IG49MDtuPDQ7KytuKWUucHVzaChoLnBvcCgpKTt5aWVsZCBlfX0pLHthcHBseSguLi5lKXtjb25zdCBuPVsuLi5SZWZsZWN0LmFwcGx5KC4uLmUpXTtyZXR1cm4gcihuKX19KSgpfWNvbnN0IGk9ZnVuY3Rpb24oKXtyZXR1cm4oZSxuLHQpPT57dC52YWx1ZT1uZXcgUHJveHkodC52YWx1ZSx7YXBwbHk6ZnVuY3Rpb24oLi4uZSl7Y29uc29sZS5sb2coYD09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVNUQVJUOiAke259ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PWApO3RyeXtyZXR1cm4gY29uc29sZS5sb2coImVtYWlsOiAiLCJjaGVuX3NoZW5nZGFAeWVhaC5uZXQiKSxjb25zb2xlLmxvZygidGltZTogIixuZXcgRGF0ZSksY29uc29sZS5sb2coImFyZ3M6ICIsZSksUmVmbGVjdC5hcHBseSguLi5lKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKGUpfWZpbmFsbHl7Y29uc29sZS5sb2coYD09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09RU5EOiAke259ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PWApfX19KX19O3ZhciBnPW4uVCx1PW4udWoseT1uLkdILHA9bi5kZCx3PW4uc1osZD1uLndoLG09bi5oRCx4PW4uQzIsQT1uLlhfLFA9bi52STtleHBvcnR7ZyBhcyBULHUgYXMgYWRqb2ludCx5IGFzIGRldGVybWluYW50LHAgYXMgZ2V0QXhpcyx3IGFzIGdldFJhbmRvbSxkIGFzIG1hdHJpeDJELG0gYXMgbWF0cml4M0QseCBhcyBtYXRyaXhDc3MsQSBhcyBwZXJzcGVjdGl2ZU5PLFAgYXMgcnVudGltZURlY29yYXRvcn07'
    const matrix = [
        [1, 1, 0],
        [2, 4, 0],
        [0, 0, 1],
    ];
    const amatrix = adjoint( matrix )
    const pro = getAxis( matrix, amatrix )
    console.log( pro )
</script>
```